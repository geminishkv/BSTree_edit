language: cpp
addons:
  apt:
    sources:
    - george-edison55-precise-backports
    packages:
    - cmake
    - cmake-data
    - lcov
cache:
- apt
script:
- cmake -H. -B_build -DCMAKE_INSTALL_PREFIX=_install -DBUILD_TESTS=ON -DBUILD_EXAMPLES=ON
  -DCMAKE_BUILD_TYPE=Coverage -DCPACK_GENERATOR="TGZ"
- cmake --build _build
- cmake --build _build --target install
- cmake --build _build --target test -- ARGS=--verbose
- cmake --build _build --target unit_tests_coverage
- cmake --build _build --target package
notifications:
  email: false
before_deploy:
- git config --local user.name "geminishkv"
- git config --local user.email "gshkvbmstu@gmail.com"
deploy:
 provider: releases
#  api_key:
#    secure: CIAH+fxSRqy1diTMna8V3aIl3D4+4da1UTSq6uhv8Fwfb19mcjg7p6IPl8S7kOEj7MqlA45BKmUSkOprMgjCBVJJDGFs4WQuXrFVLQyfixsAmStMNNwy0u3lrUMu8Tkje3C1x2DDTAFrrpJg1Nf6jaCaf+X4fGq7GcmUHlayLHr4TJCsH8AlMvfPxSrXegs39NSMEuEemxEyKiCBVvP8rYePX7iAC9cQeE7Gf2Rnpk2pJTeefyScZ+aHzqiPS0Uj42b8eh3tZWjD/R70YX6s2UrTUgR1/GlTOwB+TCzh7GmgP0AXCfrrl+LsQPMVJGtCFTGkPPuQZoFMHeqXTH7WxG42UPbd1kov47lrfsy5MOvWN/zoZeEdVuIw6uDOJizz1hiwZ46FDX3a8HnM4sXzCuDN2MFpElmjhwrGAmFGeI6J4kbLPBoI5GszE5qiXroaABUv+o5nUAZtwYIXSVj9nwvMe7AqpCxNsls7HIG42HYvRKLvJs8eNndhkx3PH1cAIhrku90UPwITR9ZVFbBwlKC1unnt3xJLOROAlYm5Y92J0v59Z2dRuiuXXhIHVenZAmCVmk9mjKNeawB6K8akiHTx0UGyts8zl8/HniEmOkpDLsDaXBeQTDbzgY6G/LLp1/LYENkMLeBot9yXRphGuMR/j/nZ2kdvVOlAv7rsJbo=
  file_glob: true
  file: _build/*.tar.gz
  skip_cleanup: true
  on:
    tags: true
    all_branches: true
env:
  global:
    secure: lAwySKNN17jD25rlPT0jPjjdKF+fT/zZXQsI/nF4jDbUzdAQzFIn+8B9O/WNFQXaq2DfQFMEcfbj+mKCOm9ORRNWa+W9q/pQWWHOkCsyORXOYtI6JfZkuX2ib01wy52OR/jpI/3po1Op+9WSM6u8qGKZ1/rPBBFr4A1NjUQiIfDu6kMHbbyfSLbOp2cPeZ6tTnR+CX3+IOUtF4+P6HshvFGS3HYP9MS5rc4FUFcEWC0/U724/l8glC00eFnWYRl+HKqo+uwjM9aDFszv8ZkCxRTBYL/Z4+w6E9+k6UtCmJY0J5GseyW1p7HmBMMH4iI49a3gixkOgAfT4CxQkj1CfUlepL9U8lTtY5UWEpIoBgoTa0AQXyFaSxbfodSZBWLGKOzLKs3iptUyGgCGd4K+bxUSQFg4LAipsSlnOxVKM/4iORvDGI0JPVDgbCe8HQJmNFFSn/bAz+30sf1abn1c2mFvsZ8K/KuOsnmrtU8qsFaEENH0k/EsbyimsXa62sV/aGaJ9QOpZzNe9FPtrzEi8TGo0wANZlDSizn42o6M1jQ1PSFid/0OgQlr6JaXvNLUMp8n0bHRoao+lHJmJS9FnHqQinS9PhUTM2jBZo3UdfLDW6ePPYyYFZW4epf8uw1JdtXdM6nOTbGVsrrur8T6Qjp7K+s83sBDMbzyx6PRdm4=
